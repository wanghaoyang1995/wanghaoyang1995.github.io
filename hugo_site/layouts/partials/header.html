{{- $title := .Site.Title -}}
{{- $subtitle := .Site.Params.subtitle -}}

<header>
  <div class="layui-row" id="title-bar">
    <div id="main-title">
      <a href="/">{{ $title }}</a>
    </div>
      <div id="subtitle">{{ $subtitle }}</div>
  </div>

  <div class="layui-row">
    <nav>
      {{- if .Site.Menus.main -}}
        {{- $currentNode := . }}
        <ul class="layui-nav" id="nav-bar">
          {{- range .Site.Menus.main }}
            {{- if .Name }}
              <li class="layui-nav-item{{ if or ($currentNode.IsMenuCurrent "main" .) ($currentNode.HasMenuCurrent "main" .) }} layui-this{{ end }}">
                <a href="{{ .URL }}">{{ .Name }}</a>
                {{/*只考虑一级子菜单*/}}
                {{- if .HasChildren }}
                  <dl class="layui-nav-child">
                    {{- range .Children }}
                      <dd><a href="{{.URL}}">{{.Name}}</a></dd>
                    {{- end }}
                  </dl>
                {{- end }}
              </li>
            {{- end }}
          {{- end }}
        </ul>
      {{- end }}
    </nav>
  </div>
</header>
